(self["webpackChunkproject1"]=self["webpackChunkproject1"]||[]).push([[214],{2214:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return c}});var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("商品管理")]),t("el-breadcrumb-item",[e._v("商品添加")])],1),t("el-card",{staticStyle:{"margin-top":"16px"}},[t("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),t("el-steps",{staticStyle:{"margin-top":"16px"},attrs:{active:e.activeStep-0,"finish-status":"success","align-center":""}},[t("el-step",{attrs:{title:"基本信息"}}),t("el-step",{attrs:{title:"商品参数"}}),t("el-step",{attrs:{title:"商品属性"}}),t("el-step",{attrs:{title:"商品图片"}}),t("el-step",{attrs:{title:"商品内容"}})],1),e.flag?t("el-form",{ref:"addFormRes",attrs:{model:e.addForm,rules:e.addFormRules,"label-position":"top","label-width":"80px"}},[t("el-tabs",{staticStyle:{"margin-top":"16px"},attrs:{"before-leave":e.check,tabPosition:"left"},model:{value:e.activeStep,callback:function(a){e.activeStep=a},expression:"activeStep"}},[t("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[t("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[t("el-input",{model:{value:e.addForm.name,callback:function(a){e.$set(e.addForm,"name",a)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[t("el-input",{attrs:{type:"number",min:"0"},model:{value:e.addForm.price,callback:function(a){e.$set(e.addForm,"price",a)},expression:"addForm.price"}})],1),t("el-form-item",{attrs:{label:"商品重量",prop:"weight"}},[t("el-input",{attrs:{type:"number",min:"0"},model:{value:e.addForm.weight,callback:function(a){e.$set(e.addForm,"weight",a)},expression:"addForm.weight"}})],1),t("el-form-item",{attrs:{label:"商品数量",prop:"num"}},[t("el-input",{attrs:{type:"number",min:"0"},model:{value:e.addForm.num,callback:function(a){e.$set(e.addForm,"num",a)},expression:"addForm.num"}})],1),t("el-form-item",{attrs:{label:"商品分类",required:!0}},[t("div",{staticClass:"block"},[t("el-cascader",{attrs:{options:e.goods_kind_options,props:{expandTrigger:"hover"}},on:{change:e.handleGoodsKindChange},model:{value:e.goods_kind,callback:function(a){e.goods_kind=a},expression:"goods_kind"}})],1)])],1),t("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.firstTableData,(function(a){return t("el-form-item",{key:a.id,attrs:{label:a.name}},[t("el-input",{model:{value:a.val,callback:function(t){e.$set(a,"val",t)},expression:"item.val"}})],1)})),1),t("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.secondTableData,(function(a){return t("el-form-item",{key:a.id,attrs:{label:a.name}},[t("el-checkbox-group",{model:{value:a.attr,callback:function(t){e.$set(a,"attr",t)},expression:"item.attr"}},e._l(a.attr,(function(e,a){return t("el-checkbox",{key:a,staticStyle:{"margin-right":"6px"},attrs:{label:e,border:""}})})),1)],1)})),1),t("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[t("el-upload",{staticStyle:{"margin-top":"16px"},attrs:{action:"#","list-type":"picture-card","auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(a){var l=a.file;return l.url?t("div",{},[t("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:l.url,alt:""}}),t("span",{staticClass:"el-upload-list__item-actions"},[t("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){return e.handlePictureCardPreview(l)}}},[t("i",{staticClass:"el-icon-zoom-in"})]),t("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handlePictureCardRemove(l)}}},[t("i",{staticClass:"el-icon-delete"})])])]):e._e()}}],null,!0)},[t("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),t("el-dialog",{attrs:{visible:e.previewDialogVisible},on:{"update:visible":function(a){e.previewDialogVisible=a}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),t("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.AddGoods}},[e._v("添加商品")]),t("quill-editor",{staticStyle:{height:"230px","margin-top":"16px"},model:{value:e.content,callback:function(a){e.content=a},expression:"content"}})],1)],1)],1):e._e()],1)],1)},i=[],r=(t(8309),t(5751)),n={data:function(){return{flag:!0,activeStep:"0",addForm:{name:"",price:"",weight:"",num:""},addFormRules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],num:[{required:!0,message:"请输入商品数量",trigger:"blur"}]},goods_kind:[],goods_kind_options:[{value:1,label:"家电",children:[{value:1,label:"电视",children:[{value:1,label:"曲面电视"},{value:2,label:"液晶电视"},{value:3,label:"投影电视"}]},{value:2,label:"电脑",children:[{value:1,label:"笔记本"},{value:2,label:"台式机"}]}]},{value:2,label:"家具",children:[{value:1,label:"床",children:[{value:1,label:"平板床"},{value:2,label:"折叠床"}]},{value:2,label:"书桌",children:[{value:1,label:"木制书桌"},{value:2,label:"合金书桌"}]}]},{value:3,label:"衣服",children:[{value:1,label:"上衣",children:[{value:1,label:"T恤"},{value:2,label:"衬衫"},{value:3,label:"卫衣"}]},{value:2,label:"下装",children:[{value:1,label:"牛仔裤"},{value:2,label:"棉裤"}]}]}],firstTableData:[],secondTableData:[],dialogImageUrl:"",previewDialogVisible:!1,ImageList:[],content:"请输入内容"}},methods:{handleGoodsKindChange:function(){this.firstData(),this.secondData()},check:function(e,a){if(3!=this.goods_kind.length)return this.$message.warning("请先选中商品分类"),!1},firstData:function(){switch(this.goods_kind[0]){case 1:this.firstTableData=[{id:1,name:"整机功耗",val:"45w"},{id:2,name:"屏幕尺寸",val:"1080*1920"},{id:3,name:"系统版本",val:"windows10"}];break;case 2:this.firstTableData=[{id:1,name:"主体材质",val:"实心红木"},{id:2,name:"家具尺寸",val:"6m*8m"},{id:3,name:"是否组装",val:"是"}];break;case 3:this.firstTableData=[{id:1,name:"主体材质",val:"棉麻混纺"},{id:2,name:"大小尺码",val:"L"},{id:3,name:"颜色款式",val:"少女粉"}];break}},secondData:function(){switch(this.goods_kind[0]){case 1:this.secondTableData=[{id:1,name:"版式",attr:["液晶屏幕星空黑","液晶屏幕炫酷银","液晶屏幕低调灰"]},{id:2,name:"屏幕尺寸",attr:["1080*1980","720*1080"]}];break;case 2:this.secondTableData=[{id:1,name:"版式",attr:["可组装木制结构","可折叠合金"]},{id:2,name:"材质",attr:["实心红木","卡其杨木","简约白色合成木料"]}];break;case 3:this.secondTableData=[{id:1,name:"版式",attr:["宽松","合体","修身"]},{id:2,name:"主体材质",attr:["棉麻混纺","冰丝面料"]}];break}},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.previewDialogVisible=!0},handlePictureCardRemove:function(e){e.url=""},AddGoods:function(){var e=this;this.$refs.addFormRes.validate((function(a){if(!a)return e.$message.error("请完善数据"),!1;var t={name:e.addForm.name,price:e.addForm.price,weight:e.addForm.weight};r.Z.$emit("AddGoods",t),e.$router.push("/home/goods-list"),e.$message.success("添加商品成功"),e.activeStep="0",e.firstTableData=[],e.secondTableData=[],e.goods_kind=[0,0,0],e.flag=!1,e.$nextTick((function(){e.goods_kind=[],e.flag=!0})),e.$refs.addFormRes.resetFields()}))}}},s=n,o=t(1001),d=(0,o.Z)(s,l,i,!1,null,null,null),c=d.exports},8309:function(e,a,t){var l=t(9781),i=t(6530).EXISTS,r=t(1702),n=t(3070).f,s=Function.prototype,o=r(s.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=r(d.exec),u="name";l&&!i&&n(s,u,{configurable:!0,get:function(){try{return c(d,o(this))[1]}catch(e){return""}}})},5751:function(e,a,t){"use strict";var l=t(311),i=t.n(l);a["Z"]=new(i())}}]);
//# sourceMappingURL=214.07b54ef4.js.map